<html lang="en">
<head>
    <base href="https://www.patrick-wied.at/static/heatmapjs/"/>
    <meta charset="utf-8">
    <title>Leaflet Heatmap Plugin Example</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow">
    <meta name="description"
          content="This example shows a leaflet heatmap layer example for the heatmap.js leaflet plugin">
    <meta name="keywords" content="leaflet heatmap, heatmap.js plugin leaflet">
    <link rel="stylesheet" href="assets/css/commons.css">
    <link rel="stylesheet" href="assets/css/example-commons.css">
    <link rel="stylesheet" href="assets/third-party/prism/prism.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js"></script>
    <style>#share {
        display: none;
        float: right;
        font-size: 14px;
        line-height: 170%
    }

    .symbol {
        display: inline !important;
        float: right
    }</style>

</head>
<body>
<div class="wrapper">
    <h1>Leaflet Heatmap Example</h1>
    <ol class="breadcrumb-trail">
        <li><a href="//www.patrick-wied.at/static/heatmapjs/"
               title="heatmap.js dynamic heatmaps for the web">heatmap.js</a></li>
        <li><a href="//www.patrick-wied.at/static/heatmapjs/examples.html" title="list of heatmap.js examples">Heatmap
            Examples</a></li>
        <li>Leaflet Heatmap Example</li>
    </ol>
    This example shows a leaflet heatmap layer example for the heatmap.js leaflet plugin. Since it's a plugin make sure
    you don't forget to include <strong>leaflet-heatmap.js</strong>
    <button class="thankyou btn">thank you, this example was useful</button>
    <div id="share">
        <strong>Help heatmap.js</strong> <br>and share your <span style="color:red;">♥</span>: <br>
        <div><a class="symbol s-fb"
                href="https://www.facebook.com/sharer/sharer.php?u=https://www.patrick-wied.at/static/heatmapjs/"
                title="share heatmap.js on fb" rel="nofollow" target="_blank"></a>
            <a class="symbol s-tw" style="margin-top:2px;"
               href="https://twitter.com/intent/tweet?text=Check out heatmap.js! https://www.patrick-wied.at/static/heatmapjs/"
               title="tweet about heatmap.js" rel="nofollow" target="_blank"></a>
            <a class="symbol" style="margin-top:2px;" href="mailto:?subject=heatmap.js" title="email about heatmap.js"
               rel="nofollow" target="_blank"></a>
        </div>
    </div>
    <br style="clear:both">
    <h2>Demo</h2>
    <div class="demo-wrapper">
        <div class="heatmap leaflet-container leaflet-retina leaflet-fade-anim" id="map-canvas"
             style="position: relative;" tabindex="0">

            <div class="leaflet-map-pane" style="transform: translate3d(0px, 0px, 0px);">
                <div class="leaflet-tile-pane">
                    <div class="leaflet-layer">
                        <div class="leaflet-tile-container"></div>
                        <div class="leaflet-tile-container leaflet-zoom-animated"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(307px, -10px, 0px);"
                                src="https://b.tile.openstreetmap.org/4/4/6.png"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(307px, 246px, 0px);"
                                src="https://c.tile.openstreetmap.org/4/4/7.png"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(51px, -10px, 0px);"
                                src="https://a.tile.openstreetmap.org/4/3/6.png"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(563px, -10px, 0px);"
                                src="https://c.tile.openstreetmap.org/4/5/6.png"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(51px, 246px, 0px);"
                                src="https://b.tile.openstreetmap.org/4/3/7.png"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(563px, 246px, 0px);"
                                src="https://a.tile.openstreetmap.org/4/5/7.png"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(-205px, -10px, 0px);"
                                src="https://c.tile.openstreetmap.org/4/2/6.png"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(819px, -10px, 0px);"
                                src="https://a.tile.openstreetmap.org/4/6/6.png"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(-205px, 246px, 0px);"
                                src="https://a.tile.openstreetmap.org/4/2/7.png"><img
                                class="leaflet-tile leaflet-tile-loaded"
                                style="height: 256px; width: 256px; transform: translate3d(819px, 246px, 0px);"
                                src="https://b.tile.openstreetmap.org/4/6/7.png"></div>
                    </div>
                </div>
                <div class="leaflet-objects-pane">
                    <div class="leaflet-shadow-pane"></div>
                    <div class="leaflet-overlay-pane">
                        <div class="leaflet-zoom-hide"
                             style="width: 834px; height: 400px; position: relative; transform: translate(0px, 0px);">
                            <canvas class="heatmap-canvas" width="834" height="400"
                                    style="position: absolute; left: 0px; top: 0px;"></canvas>
                        </div>
                    </div>
                    <div class="leaflet-marker-pane"></div>
                    <div class="leaflet-popup-pane"></div>
                </div>
            </div>
            <div class="leaflet-control-container">
                <div class="leaflet-top leaflet-left">
                    <div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in"
                                                                                     href="#" title="Zoom in">+</a><a
                            class="leaflet-control-zoom-out" href="#" title="Zoom out">-</a></div>
                </div>
                <div class="leaflet-top leaflet-right"></div>
                <div class="leaflet-bottom leaflet-left"></div>
                <div class="leaflet-bottom leaflet-right">
                    <div class="leaflet-control-attribution leaflet-control"><a href="http://leafletjs.com"
                                                                                title="A JS library for interactive maps">Leaflet</a>
                        | Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a
                                href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a
                                href="http://cloudmade.com">CloudMade</a></div>
                </div>
            </div>
        </div>
    </div>
    <div class="demo-controls">
        <button class="trigger-refresh btn">re-generate data</button>
        <br style="clear:both">
    </div>
    <h2>Code</h2>
    <pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">// don't forget to include leaflet-heatmap.js
</span><span class="token keyword">var</span> testData <span class="token operator">=</span> <span
            class="token punctuation">{</span>
  max<span class="token punctuation">:</span> <span class="token number">8</span><span
                class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span
                class="token punctuation">{</span>lat<span class="token punctuation">:</span> <span
                class="token number">24.6408</span><span class="token punctuation">,</span> lng<span
                class="token punctuation">:</span><span class="token number">46.7728</span><span
                class="token punctuation">,</span> count<span class="token punctuation">:</span> <span
                class="token number">3</span><span class="token punctuation">}</span><span
                class="token punctuation">,</span><span class="token punctuation">{</span>lat<span
                class="token punctuation">:</span> <span class="token number">50.75</span><span
                class="token punctuation">,</span> lng<span class="token punctuation">:</span><span
                class="token operator">-</span><span class="token number">1.55</span><span
                class="token punctuation">,</span> count<span class="token punctuation">:</span> <span
                class="token number">1</span><span class="token punctuation">}</span><span
                class="token punctuation">,</span> <span class="token punctuation">.</span><span
                class="token punctuation">.</span><span class="token punctuation">.</span><span
                class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> baseLayer <span class="token operator">=</span> L<span class="token punctuation">.</span><span
                class="token function">tileLayer<span class="token punctuation">(</span></span>
  <span class="token string">'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'</span><span
                class="token punctuation">,</span><span class="token punctuation">{</span>
    attribution<span class="token punctuation">:</span> <span class="token string">'...'</span><span
                class="token punctuation">,</span>
    maxZoom<span class="token punctuation">:</span> <span class="token number">18</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> cfg <span class="token operator">=</span> <span
                class="token punctuation">{</span>
 <span class="token comment" spellcheck="true"> // radius should be small ONLY if scaleRadius is true (or small radius is intended)
</span> <span class="token comment" spellcheck="true"> // if scaleRadius is false it will be the constant radius used in pixels
</span>  <span class="token string">"radius"</span><span class="token punctuation">:</span> <span
                class="token number">2</span><span class="token punctuation">,</span>
  <span class="token string">"maxOpacity"</span><span class="token punctuation">:</span> <span
                class="token punctuation">.</span><span class="token number">8</span><span
                class="token punctuation">,</span>
 <span class="token comment" spellcheck="true"> // scales the radius based on map zoom
</span>  <span class="token string">"scaleRadius"</span><span class="token punctuation">:</span> <span
                class="token keyword">true</span><span class="token punctuation">,</span>
 <span class="token comment" spellcheck="true"> // if set to false the heatmap uses the global maximum for colorization
</span> <span class="token comment" spellcheck="true"> // if activated: uses the data maximum within the current map boundaries
</span> <span class="token comment" spellcheck="true"> //   (there will always be a red spot with useLocalExtremas true)
</span>  <span class="token string">"useLocalExtrema"</span><span class="token punctuation">:</span> <span
                class="token keyword">true</span><span class="token punctuation">,</span>
 <span class="token comment" spellcheck="true"> // which field name in your data represents the latitude - default "lat"
</span>  latField<span class="token punctuation">:</span> <span class="token string">'lat'</span><span
                class="token punctuation">,</span>
 <span class="token comment" spellcheck="true"> // which field name in your data represents the longitude - default "lng"
</span>  lngField<span class="token punctuation">:</span> <span class="token string">'lng'</span><span
                class="token punctuation">,</span>
 <span class="token comment" spellcheck="true"> // which field name in your data represents the data value - default "value"
</span>  valueField<span class="token punctuation">:</span> <span class="token string">'count'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> heatmapLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span
                class="token class-name">HeatmapOverlay</span><span class="token punctuation">(</span>cfg<span
                class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span
                class="token class-name">L<span class="token punctuation">.</span>Map</span><span
                class="token punctuation">(</span><span class="token string">'map-canvas'</span><span
                class="token punctuation">,</span> <span class="token punctuation">{</span>
  center<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">L<span
                class="token punctuation">.</span>LatLng</span><span class="token punctuation">(</span><span
                class="token number">25.6586</span><span class="token punctuation">,</span> <span
                class="token operator">-</span><span class="token number">80.3568</span><span class="token punctuation">)</span><span
                class="token punctuation">,</span>
  zoom<span class="token punctuation">:</span> <span class="token number">4</span><span
                class="token punctuation">,</span>
  layers<span class="token punctuation">:</span> <span class="token punctuation">[</span>baseLayer<span
                class="token punctuation">,</span> heatmapLayer<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

heatmapLayer<span class="token punctuation">.</span><span class="token function">setData<span class="token punctuation">(</span></span>testData<span
                class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</div>
<script src="assets/js/heatmap.min.js"></script>
<script src="http://localhost:63342/Sensor%20Cam/web/libs/leaflet-heatmap.js"></script>
<script>window.onload = function () {
    var testData = {
        max: 8,
        data: [{lat: 24.6408, lng: 46.7728, count: 3}, {lat: 50.75, lng: -1.55, count: 1}, {
            lat: 52.6333,
            lng: 1.75,
            count: 1
        }, {lat: 48.15, lng: 9.4667, count: 1}, {lat: 52.35, lng: 4.9167, count: 2}, {
            lat: 60.8,
            lng: 11.1,
            count: 1
        }, {lat: 43.561, lng: -116.214, count: 1}, {lat: 47.5036, lng: -94.685, count: 1}, {
            lat: 42.1818,
            lng: -71.1962,
            count: 1
        }, {lat: 42.0477, lng: -74.1227, count: 1}, {lat: 40.0326, lng: -75.719, count: 1}, {
            lat: 40.7128,
            lng: -73.2962,
            count: 2
        }, {lat: 27.9003, lng: -82.3024, count: 1}, {lat: 38.2085, lng: -85.6918, count: 1}, {
            lat: 46.8159,
            lng: -100.706,
            count: 1
        }, {lat: 30.5449, lng: -90.8083, count: 1}, {lat: 44.735, lng: -89.61, count: 1}, {
            lat: 41.4201,
            lng: -75.6485,
            count: 2
        }, {lat: 39.4209, lng: -74.4977, count: 1}, {lat: 39.7437, lng: -104.979, count: 1}, {
            lat: 39.5593,
            lng: -105.006,
            count: 1
        }, {lat: 45.2673, lng: -93.0196, count: 1}, {lat: 41.1215, lng: -89.4635, count: 1}, {
            lat: 43.4314,
            lng: -83.9784,
            count: 1
        }, {lat: 43.7279, lng: -86.284, count: 1}, {lat: 40.7168, lng: -73.9861, count: 1}, {
            lat: 47.7294,
            lng: -116.757,
            count: 1
        }, {lat: 47.7294, lng: -116.757, count: 2}, {lat: 35.5498, lng: -118.917, count: 1}, {
            lat: 34.1568,
            lng: -118.523,
            count: 1
        }, {lat: 39.501, lng: -87.3919, count: 3}, {lat: 33.5586, lng: -112.095, count: 1}, {
            lat: 38.757,
            lng: -77.1487,
            count: 1
        }, {lat: 33.223, lng: -117.107, count: 1}, {lat: 30.2316, lng: -85.502, count: 1}, {
            lat: 39.1703,
            lng: -75.5456,
            count: 8
        }, {lat: 30.0041, lng: -95.2984, count: 2}, {lat: 29.7755, lng: -95.4152, count: 1}, {
            lat: 41.8014,
            lng: -87.6005,
            count: 1
        }, {lat: 37.8754, lng: -121.687, count: 7}, {lat: 38.4493, lng: -122.709, count: 1}, {
            lat: 40.5494,
            lng: -89.6252,
            count: 1
        }, {lat: 42.6105, lng: -71.2306, count: 1}, {lat: 40.0973, lng: -85.671, count: 1}, {
            lat: 40.3987,
            lng: -86.8642,
            count: 1
        }, {lat: 40.4224, lng: -86.8031, count: 4}, {lat: 47.2166, lng: -122.451, count: 1}, {
            lat: 32.2369,
            lng: -110.956,
            count: 1
        }, {lat: 41.3969, lng: -87.3274, count: 2}, {lat: 41.7364, lng: -89.7043, count: 2}, {
            lat: 42.3425,
            lng: -71.0677,
            count: 1
        }, {lat: 33.8042, lng: -83.8893, count: 1}, {lat: 36.6859, lng: -121.629, count: 2}, {
            lat: 41.0957,
            lng: -80.5052,
            count: 1
        }, {lat: 46.8841, lng: -123.995, count: 1}, {lat: 40.2851, lng: -75.9523, count: 2}, {
            lat: 42.4235,
            lng: -85.3992,
            count: 1
        }, {lat: 39.7437, lng: -104.979, count: 2}, {lat: 25.6586, lng: -80.3568, count: 7}, {
            lat: 33.0975,
            lng: -80.1753,
            count: 1
        }, {lat: 25.7615, lng: -80.2939, count: 1}, {lat: 26.3739, lng: -80.1468, count: 1}, {
            lat: 37.6454,
            lng: -84.8171,
            count: 1
        }, {lat: 34.2321, lng: -77.8835, count: 1}, {lat: 34.6774, lng: -82.928, count: 1}, {
            lat: 39.9744,
            lng: -86.0779,
            count: 1
        }, {lat: 35.6784, lng: -97.4944, count: 2}, {lat: 33.5547, lng: -84.1872, count: 1}, {
            lat: 27.2498,
            lng: -80.3797,
            count: 1
        }, {lat: 41.4789, lng: -81.6473, count: 1}, {lat: 41.813, lng: -87.7134, count: 1}, {
            lat: 41.8917,
            lng: -87.9359,
            count: 1
        }, {lat: 35.0911, lng: -89.651, count: 1}, {lat: 32.6102, lng: -117.03, count: 1}, {
            lat: 41.758,
            lng: -72.7444,
            count: 1
        }, {lat: 39.8062, lng: -86.1407, count: 1}, {lat: 41.872, lng: -88.1662, count: 1}, {
            lat: 34.1404,
            lng: -81.3369,
            count: 1
        }, {lat: 46.15, lng: -60.1667, count: 1}, {lat: 36.0679, lng: -86.7194, count: 1}, {
            lat: 43.45,
            lng: -80.5,
            count: 1
        }, {lat: 44.3833, lng: -79.7, count: 1}, {lat: 45.4167, lng: -75.7, count: 2}, {
            lat: 43.75,
            lng: -79.2,
            count: 2
        }, {lat: 45.2667, lng: -66.0667, count: 3}, {lat: 42.9833, lng: -81.25, count: 2}, {
            lat: 44.25,
            lng: -79.4667,
            count: 3
        }, {lat: 45.2667, lng: -66.0667, count: 2}, {lat: 34.3667, lng: -118.478, count: 3}, {
            lat: 42.734,
            lng: -87.8211,
            count: 1
        }, {lat: 39.9738, lng: -86.1765, count: 1}, {lat: 33.7438, lng: -117.866, count: 1}, {
            lat: 37.5741,
            lng: -122.321,
            count: 1
        }, {lat: 42.2843, lng: -85.2293, count: 1}, {lat: 34.6574, lng: -92.5295, count: 1}, {
            lat: 41.4881,
            lng: -87.4424,
            count: 1
        }, {lat: 25.72, lng: -80.2707, count: 1}, {lat: 34.5873, lng: -118.245, count: 1}, {
            lat: 35.8278,
            lng: -78.6421,
            count: 1
        }]
    };

    var geojsonFeature =
        {"type":"Feature","geometry":{"type":"MultiLineString","coordinates":[[[9.156332,48.770227],[9.160945,48.771422],[9.163231,48.772034],[9.165559,48.77261],[9.170376,48.774187],[9.172865,48.776237],[9.180343,48.783618],[9.186502,48.789916],[9.19296,48.793111],[9.194849,48.796603],[9.195127,48.799938],[9.193969,48.801338],[9.192252,48.802398],[9.18839,48.803627],[9.178755,48.808602],[9.169571,48.813533],[9.168327,48.8153],[9.168499,48.817433],[9.170837,48.820796],[9.171524,48.823395],[9.169314,48.826644],[9.16661,48.829357],[9.164593,48.830995],[9.161568,48.832379],[9.157147,48.833509],[9.152191,48.833961],[9.147041,48.833608],[9.135947,48.830727],[9.128265,48.828566],[9.120541,48.826418],[9.113202,48.824285],[9.107001,48.822844],[9.100456,48.82211],[9.094362,48.822138],[9.07814,48.823296],[9.067326,48.823692],[9.060524,48.823367],[9.05031,48.820132],[9.04619,48.81756],[9.044323,48.816077],[9.042048,48.815356],[9.034796,48.815398],[9.025354,48.815116],[9.019389,48.814876],[9.014304,48.815314],[9.012072,48.814452],[9.009025,48.812445],[9.004304,48.811442],[9.002287,48.809916],[9.002223,48.80798],[9.003725,48.80627],[9.007094,48.804475],[9.007609,48.802101],[9.005163,48.800249],[8.988233,48.79362],[8.975272,48.793252],[8.967547,48.791994],[8.959672,48.790157],[8.939824,48.777715],[8.936434,48.775834],[8.932486,48.775141],[8.904827,48.771832],[8.901458,48.77104],[8.898153,48.769767],[8.884807,48.764195],[8.872061,48.754831]]]},"properties":{"cartodb_id":1,"name":null,"description":"S6 - Schwabstraße - Weil der Stadt"}};

    var baseLayer = L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://cloudmade.com">CloudMade</a>',
        maxZoom: 18
    });
    var railwayLayer = L.tileLayer('http://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png', {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://cloudmade.com">CloudMade</a>',
        maxZoom: 18,
        tilesize: 256,
        opacity: 0.9
    });

    var cfg = {
        "radius": 0.3,
        minOpacity: 0,
        "maxOpacity": .6,
        "scaleRadius": true,
        "useLocalExtrema": true,
        latField: 'lat',
        lngField: 'lng',
        valueField: 'count',

    };
    var heatmapLayer = new HeatmapOverlay(cfg);
    var map = new L.Map('map-canvas', {
        center: new L.LatLng(48.79507, 9.20205),
        zoom: 13,
        layers: [baseLayer, heatmapLayer]
    });
//    heatmapLayer.setData(testData);


        function generateRandomData(len) {
            var points = [];
            var max = 0;
            var width = 0.8;
            var height = 0.6;
            while (len--) {
                var val = Math.floor(Math.random() * 10);
                var radius = (Math.random() * 0.01);
                max = Math.max(max, val);

                var point = {
                    lat: 48.79507 + (Math.random() * height) - height / 2,
                    lng: 9.20205 + (Math.random() * width) - width / 2,
                    count: val,
                    radius: radius,
                };
                points.push(point);
            }
            var data = {max: max, data: points};
            return data;
        }


        var data = generateRandomData(8000);
        heatmapLayer.setData(data);
        document.querySelector('.trigger-refresh').onclick = function () {
            heatmapLayer.setData(generateRandomData(8000));
        };

    var myStyle = {
        "color": "#ff0000",
        "weight": 5,
        "opacity": 0.65
    };
    L.geoJSON(geojsonFeature, {
        style: myStyle
    }).addTo(map);

};</script>
<script src="assets/third-party/prism/prism.js"></script>




</body>
</html>